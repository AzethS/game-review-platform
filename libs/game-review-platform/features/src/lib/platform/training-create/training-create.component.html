<div class="container mx-auto p-4">
    <div class="flex flex-col md:flex-row gap-4 justify-center">
      <athlete-xperience-card class="w-full md:w-3/4 lg:w-3/4 xl:w-3/4 2xl:w-3/4 mx-auto shadow-lg p-6 rounded-lg">
        <form [formGroup]="trainingForm" (ngSubmit)="onSubmit()" class="space-y-4 w-full">
          
                  <!-- Success and Error Messages -->
        <div *ngIf="successMessage" class="text-green-500">{{ successMessage }}</div>
        <div *ngIf="errorMessage" class="text-red-500">{{ errorMessage }}</div>

        <!-- Name Field -->
        <div>
          <label class="block font-medium mb-1">Name</label>
          <input type="text" formControlName="name" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.name.invalid && f.name.touched">
          <div *ngIf="f.name.invalid && f.name.touched" class="text-red-500">Name is required</div>
        </div>

        <!-- Description Field -->
        <div>
          <label class="block font-medium mb-1">Description</label>
          <input type="text" formControlName="description" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.description.invalid && f.description.touched">
          <div *ngIf="f.description.invalid && f.description.touched" class="text-red-500">Description is required</div>
        </div>

        <!-- Location Field -->
        <div>
          <label class="block font-medium mb-1">Location</label>
          <input type="text" formControlName="location" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.location.invalid && f.location.touched">
          <div *ngIf="f.location.invalid && f.location.touched" class="text-red-500">Location is required</div>
        </div>

        <!-- Duration Field -->
        <div>
          <label class="block font-medium mb-1">Duration (in minutes)</label>
          <input type="number" formControlName="duration" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.duration.invalid && f.duration.touched">
          <div *ngIf="f.duration.invalid && f.duration.touched" class="text-red-500">Duration is required</div>
        </div>

        <!-- Trainer Name Field -->
        <div>
          <label class="block font-medium mb-1">Trainer</label>
          <!-- <input type="text" formControlName="trainer" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.trainer.invalid && f.trainer.touched"> -->
          <select id="trainer" class="w-full p-2 border border-gray-300 rounded" [(ngModel)]="selectedTrainerName">
            <option *ngFor="let trainer of trainers" [value]="trainer.name">{{trainer.name}}</option>
          </select>
          <div *ngIf="f.trainer.invalid && f.trainer.touched" class="text-red-500">Trainer name is required</div>
        </div>

        <!-- Is Top Rated Field -->
        <div class="flex items-center">
          <input type="checkbox" formControlName="isTopRated" id="isTopRated" class="mr-2">
          <label for="isTopRated" class="font-medium">Is Top Rated</label>
        </div>

        <!-- Date Field -->
        <div>
          <label class="block font-medium mb-1">Date and Time</label>
          <input type="datetime-local" formControlName="date" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.date.invalid && f.date.touched">
          <div *ngIf="f.date.invalid && f.date.touched" class="text-red-500">Date and time are required</div>
        </div>

        <!-- Type Field -->
        <div>
          <label class="block font-medium mb-1">Type</label>
          <select formControlName="type" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.type.invalid && f.type.touched">
            <option *ngFor="let type of trainingTypes" [value]="type">{{ type }}</option>
          </select>
          <div *ngIf="f.type.invalid && f.type.touched" class="text-red-500">Type is required</div>
        </div>

        <!-- Members Field -->
        <div>
          <label class="block font-medium mb-1">Members (comma-separated)</label>
          <!-- <input type="text" formControlName="members" class="w-full p-2 border border-gray-300 rounded" [class.border-red-500]="f.members.invalid && f.members.touched"> -->
          <!-- <select multiple [(ngModel)]="selectedMemberNames" (ngModelChange)="onMemberSelectChange()" class="w-full p-2 border border-gray-300 rounded">
            <option *ngFor="let member of members" [value]="member.name">{{member.name}}</option>
          </select> -->
          <!-- <div class="relative">
            <button class="bg-gray-300 text-black px-4 py-2 rounded" (click)="toggleDropdown()">Select Members</button>
            <div class="absolute bg-white border border-gray-300 rounded mt-1" *ngIf="dropdownOpen">
              <div *ngFor="let member of members" class="px-4 py-2 hover:bg-gray-100">
                <label class="flex items-center">
                  <input type="checkbox" class="form-checkbox" [value]="member.id" (change)="onMemberSelectChange(member.id, $event.target.checked)">
                  <span class="ml-2 text-black">{{ member.name }}</span>
                </label>
              </div>
            </div>
          </div> -->
          <div class="relative">
            <button class="bg-gray-300 text-black px-4 py-2 rounded" (click)="toggleDropdown()">Select Members</button>
            <div class="absolute bg-white border border-gray-300 rounded mt-1" *ngIf="dropdownOpen">
              <div *ngFor="let member of members" class="px-4 py-2 hover:bg-gray-100">
                <label class="flex items-center">
                  <input type="checkbox" class="form-checkbox" [(ngModel)]="member.selected">
                  <span class="ml-2 text-black">{{ member.name }}</span>
                </label>
              </div>
            </div>
          </div>
          
          <div *ngIf="f.members.invalid && f.members.touched" class="text-red-500">Members information is required</div>
        </div>
        
            <!-- Submit Button -->
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded me-2">
                Create Training
            </button>
            
            <!-- Clear All Button -->
            <button type="button" (click)="resetForm()" class="bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded me-2">
                Clear All
            </button>
            
            <!-- Back Button -->
            <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                <a routerLink="/Trainings">
                    Back
                </a>
            </button>

        </form>
      </athlete-xperience-card>
    </div>
  </div>
  